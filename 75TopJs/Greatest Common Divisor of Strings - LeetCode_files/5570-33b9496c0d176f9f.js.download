(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5570],{8458:function(e,n,t){var o=t(87537),i=t(23645)(o);i.push([e.id,".WRmCx p,.WRmCx summary{font-size:1rem!important;line-height:1.5rem!important}","",{version:3,sources:["webpack://./modules/problems/solutions/solution-details/body/solution-markdown.iso.css"],names:[],mappings:"AAKE,wBAAA,wBAAiB,CAAjB,4BAAiB",sourcesContent:[".markdown p {\n  @apply !text-base;\n}\n\n.markdown summary {\n  @apply !text-base;\n}\n"],sourceRoot:""}]),i.locals={markdown:"WRmCx"},e.exports=i},48005:function(e,n,t){"use strict";t.d(n,{U:function(){return i}});var o=t(67294);function i(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(0,o.useState)(e),t=n[0],i=n[1],r=(0,o.useCallback)((function(){return i(!0)}),[]),s=(0,o.useCallback)((function(){return i(!1)}),[]);return{visible:t,showModal:r,hideModal:s}}},11355:function(e,n,t){"use strict";t.d(n,{o:function(){return i}});var o=t(93513),i=function(e,n,t){return[function(i){if(t){var r=(0,o.Uy)(t,i);e.setQueryData(n,r)}},function(){e.setQueryData(n,t)}]}},50078:function(e,n,t){"use strict";t.d(n,{kF:function(){return f},p2:function(){return v}});var o,i=t(26042),r=t(69396),s=t(59403),a=(t(82010),t(32180)),l=t(88525),u=t(65854),d=t(6919),c=function(e){return(0,r.Z)((0,i.Z)({},(0,a.Z)(e,["orderBy","page","perPage","mySolution"])),{skip:0,first:e.perPage,orderBy:null!==(o=e.orderBy)&&void 0!==o?o:d.av.Hot})};var v=function(e,n){var t=c(e);return n.invalidateQueries([l.CSp.getKey(t)[0]])},f=function(e){var n=c(e);return(0,s.N)(l.CSp.getKey(n),(function(e){var t=e.pageParam,o=void 0===t?n:t;return u.f6.request(l.oEX,o).then((function(e){var n=e.questionSolutions||{},t=n.hasDirectResults,i=n.totalNum,r=n.solutions;if(!r||!(null===r||void 0===r?void 0:r.length)||!i)return{total:i||0,skip:o.skip,solutions:[],hasDirectResults:Boolean(t)};var s=r.map((function(e){var n,t,o,i,r,s,a,l,u,c,v,f,p,m,x,g,h,y,b,j,S,w,C,N,I,k,T,P,_,A,E=e.searchMeta;return{slug:"",uuid:"",ipRegion:"",id:null!==(p=null===e||void 0===e?void 0:e.id)&&void 0!==p?p:0,postId:null!==(m=null===e||void 0===e?void 0:e.post.id)&&void 0!==m?m:0,title:null!==(x=null===e||void 0===e?void 0:e.title)&&void 0!==x?x:"",isPinned:Boolean(null===e||void 0===e?void 0:e.pinned),isFavorite:Boolean(null===e||void 0===e?void 0:e.isFavorite),isOfficial:!1,hasVideo:!1,isPremium:!1,isVideoPremium:!1,voteStatus:null!==(g=null===e||void 0===e?void 0:e.post.voteStatus)&&void 0!==g?g:void 0,voteCount:null!==(h=null===e||void 0===e?void 0:e.post.voteCount)&&void 0!==h?h:0,viewCount:null!==(y=null===e||void 0===e?void 0:e.viewCount)&&void 0!==y?y:0,commentCount:null!==(b=null===e||void 0===e?void 0:e.topLevelCommentCount)&&void 0!==b?b:0,creationDate:(null===e||void 0===e?void 0:e.post.creationDate)||+new Date,tags:(null===e||void 0===e?void 0:e.solutionTags)?e.solutionTags.map((function(e){return null!==(j=null===e||void 0===e?void 0:e.name)&&void 0!==j?j:""})):[],tagSlugs:(null===e||void 0===e?void 0:e.solutionTags)?e.solutionTags.map((function(e){return null!==(S=null===e||void 0===e?void 0:e.slug)&&void 0!==S?S:""})):[],author:{userAvatar:null!==(w=null===(n=null===e||void 0===e?void 0:e.post.author)||void 0===n?void 0:n.profile.userAvatar)&&void 0!==w?w:"",username:null!==(C=null===(t=null===e||void 0===e?void 0:e.post.author)||void 0===t?void 0:t.username)&&void 0!==C?C:"",isActive:Boolean(null===(o=null===e||void 0===e?void 0:e.post.author)||void 0===o?void 0:o.isActive),nameColor:null!==(N=null===(i=null===e||void 0===e?void 0:e.post.author)||void 0===i?void 0:i.nameColor)&&void 0!==N?N:"",activeBadgeIcon:null!==(I=null===(r=null===e||void 0===e?void 0:e.post.author)||void 0===r||null===(s=r.activeBadge)||void 0===s?void 0:s.icon)&&void 0!==I?I:"",activeBadgeName:null!==(k=null===(a=null===e||void 0===e?void 0:e.post.author)||void 0===a||null===(l=a.activeBadge)||void 0===l?void 0:l.displayName)&&void 0!==k?k:"",reputation:null!==(T=null===(u=null===e||void 0===e?void 0:e.post.author)||void 0===u||null===(c=u.profile)||void 0===c?void 0:c.reputation)&&void 0!==T?T:0},isHidden:Boolean(null===e||void 0===e?void 0:e.post.isHidden),isHiddenFromTrending:!1,isDeleted:Boolean((null===e||void 0===e?void 0:e.post.status)===d.$4.Deleted),status:null===e||void 0===e?void 0:e.post.status,searchMeta:E?{content:null!==(P=null===E||void 0===E?void 0:E.content)&&void 0!==P?P:"",contentType:String(null===E||void 0===E?void 0:E.contentType),commentAuthor:null!==(_=null===E||void 0===E||null===(v=E.commentAuthor)||void 0===v?void 0:v.username)&&void 0!==_?_:void 0,replyAuthor:null!==(A=null===(f=E.replyAuthor)||void 0===f?void 0:f.username)&&void 0!==A?A:void 0,highlights:(null===E||void 0===E?void 0:E.highlights)?null===E||void 0===E?void 0:E.highlights.map((function(e){return null===e||void 0===e?void 0:e.replace(/([^a-zA-Z0-9])/g,"\\$1")})):[]}:void 0}}));return{total:i,skip:o.skip,solutions:s,hasDirectResults:Boolean(t)}}))}),{enabled:Boolean(e.questionSlug),staleTime:1/0,getNextPageParam:function(e,t){return e.total>e.skip+n.first?(0,r.Z)((0,i.Z)({},n),{skip:t.length*n.first}):void 0}})}},94424:function(e,n,t){"use strict";t.d(n,{D:function(){return s}});var o=t(26042),i=t(69396),r=t(85893),s=t(67294).forwardRef((function(e,n){return(0,r.jsx)("svg",(0,i.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M5.414 11H21a1 1 0 110 2H5.414L12 19.586A1 1 0 0110.586 21l-8.293-8.293a.997.997 0 01.003-1.417L10.586 3A1 1 0 1112 4.414L5.414 11z",clipRule:"evenodd"})}))}))},50077:function(e,n,t){"use strict";t.d(n,{E:function(){return s}});var o=t(26042),i=t(69396),r=t(85893),s=t(67294).forwardRef((function(e,n){return(0,r.jsx)("svg",(0,i.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M18.586 13H3a1 1 0 110-2h15.586L12 4.414A1 1 0 0113.414 3l8.293 8.293a.997.997 0 01-.003 1.417L13.414 21A1 1 0 0112 19.586L18.586 13z",clipRule:"evenodd"})}))}))},46414:function(e,n,t){"use strict";t.d(n,{t:function(){return s}});var o=t(26042),i=t(69396),r=t(85893),s=t(67294).forwardRef((function(e,n){return(0,r.jsx)("svg",(0,i.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M1.104 12.444a1 1 0 010-.888c.13-.26.37-.693.722-1.241A18.85 18.85 0 013.88 7.652C6.184 5.176 8.896 3.667 12 3.667s5.816 1.509 8.119 3.985c.79.85 1.475 1.756 2.055 2.663.352.548.593.98.722 1.24a1 1 0 010 .89c-.13.26-.37.692-.722 1.24a18.848 18.848 0 01-2.055 2.663c-2.303 2.476-5.015 3.985-8.119 3.985s-5.816-1.509-8.119-3.985a18.846 18.846 0 01-2.055-2.663c-.352-.548-.593-.98-.722-1.24zm2.406.162a16.87 16.87 0 001.836 2.38c1.959 2.106 4.19 3.347 6.654 3.347 2.465 0 4.695-1.24 6.654-3.347A16.87 16.87 0 0020.86 12a16.871 16.871 0 00-2.206-2.986C16.695 6.908 14.464 5.667 12 5.667c-2.465 0-4.695 1.24-6.654 3.347A16.87 16.87 0 003.14 12c.108.188.232.391.37.607zM12 15.75c-2.06 0-3.727-1.68-3.727-3.75 0-2.07 1.667-3.75 3.727-3.75 2.06 0 3.727 1.68 3.727 3.75 0 2.07-1.667 3.75-3.727 3.75zm0-2c.952 0 1.727-.782 1.727-1.75s-.775-1.75-1.727-1.75c-.952 0-1.727.782-1.727 1.75s.775 1.75 1.727 1.75z",clipRule:"evenodd"})}))}))},71767:function(e,n,t){"use strict";t.d(n,{W:function(){return s}});var o=t(26042),i=t(69396),r=t(85893),s=t(67294).forwardRef((function(e,n){return(0,r.jsx)("svg",(0,i.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M15.406 16.82a8 8 0 111.414-1.414l3.512 3.512a1 1 0 01-1.414 1.414l-3.512-3.512zM11.5 9.5H13a1 1 0 110 2h-1.5V13a1 1 0 11-2 0v-1.5H8a1 1 0 110-2h1.5V8a1 1 0 012 0v1.5zm-1 7a6 6 0 100-12 6 6 0 000 12z",clipRule:"evenodd"})}))}))},80535:function(e,n,t){"use strict";t.d(n,{p:function(){return l}});var o=t(26042),i=t(85893),r=t(67294),s=t(93769),a=(0,r.createContext)(s.TH),l=function(e){var n=e.children,t=e.value,l=(0,s.z2)((function(e){return e.updateState})),u=(0,s.z2)();return(0,r.useEffect)((function(){l(t)}),[l,t]),(0,i.jsx)(a.Provider,{value:(0,o.Z)({},t,u),children:n})}},36866:function(e,n,t){"use strict";t.d(n,{B:function(){return r}});var o=t(65854),i=t(88525),r=function(e){return(0,i.TFB)(o.f6,{adLocation:e},{select:function(e){var n=e.advertisementByLocation[0];return n&&n.adSlot&&n.width&&n.height?{slot:n.adSlot,width:n.width,height:n.height}:null}})}},71154:function(e,n,t){"use strict";t.d(n,{M:function(){return v},x:function(){return f}});var o=t(26042),i=t(69396),r=t(10253),s=t(85893),a=t(67294),l=t(43973),u=t(31955),d={solutionSide:{getValueFromCookie:function(e){return e.indexOf("qd_sol_r=1")>-1?"right":"left"},setValueToCookie:function(e){"right"===e?u.Z.set("qd_sol_r","1"):u.Z.remove("qd_sol_r")}}},c={solutionSide:"left",consoleSide:"right",verticalSplitterRatio:.5,horizontalSplitterRatio:.5,updatePreferences:function(){}},v=(0,a.createContext)(null),f=function(e){var n,t=e.children,u=e.value,f=(n=u,(0,l.M)()((function(e){return(0,i.Z)((0,o.Z)({},c,n),{updatePreferences:function(n){return e((function(e){return Object.entries(n).forEach((function(e){var n,t=(0,r.Z)(e,2),o=t[0],i=t[1];null===(n=d[o])||void 0===n||n.setValueToCookie(i)})),(0,o.Z)({},e,n)}))}})}))),p=(0,a.useRef)(f);return(0,s.jsx)(v.Provider,{value:p.current,children:t})}},87652:function(e,n,t){"use strict";t.d(n,{M:function(){return s}});var o=t(67294),i=t(73445),r=t(71154),s=function(e){var n=(0,o.useContext)(r.M);if(!n)throw new Error("Missing QdLayoutPreferencesContext.Provider in the tree");return(0,i.oR)(n,e)}},92479:function(e,n,t){"use strict";t.d(n,{I:function(){return S}});var o=t(85893),i=t(68779),r=t(11321),s=t(67294),a=t(51295),l=t(84004),u=t(11516),d=t(29446),c=t(27375),v=t(49037),f=t(23877),p=t(93769),m=t(41435),x=t(83210),g=t(62758),h=t(134),y=t(40884),b=function(e){var n=e.open,t=e.onOpenChange,i=e.onConfirm,s=e.children,c=(0,r.$G)("solutions",{keyPrefix:"sideBySide"}).t,v=(0,p.z2)((function(e){return e.setOpenSettingModal})),f=(0,p.z2)((function(e){return e.setSettingModalActiveTab})),g=(0,p.z2)((function(e){return e.setSettingModalHighlightOption})),h=(0,l.z)((function(){null===i||void 0===i||i(),g(d.k.MultipleTab),f(d.Z.Advanced),v(!0)}));return(0,o.jsx)(m.J2,{open:n,onOpenChange:t,side:"bottom",align:"end",className:"max-w-[320px]",hideWhenDetached:!0,onOpenAutoFocus:function(e){return e.preventDefault()},content:(0,o.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,o.jsx)("div",{className:(0,a.yI)("text-base font-medium",u.nx.labelTextPrimary),children:c("enterGuideTitle")}),(0,o.jsx)("div",{className:(0,a.yI)("mb-2 text-sm",u.nx.labelTextSecondary),children:c("enterGuideDesc")}),(0,o.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,o.jsx)(x.z,{variant:"ghost",className:"font-normal",onClick:h,children:c("goToSettings")}),(0,o.jsx)(x.z,{onClick:i,children:c("gotIt")})]})]}),children:s})},j=function(e){var n=e.open,t=e.onOpenChange,i=e.onConfirm,s=e.children,l=(0,r.$G)("solutions",{keyPrefix:"sideBySide"}).t;return(0,o.jsx)(m.J2,{open:n,onOpenChange:t,side:"bottom",align:"end",className:"max-w-[320px]",hideWhenDetached:!0,onOpenAutoFocus:function(e){return e.preventDefault()},content:(0,o.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,o.jsx)("div",{className:(0,a.yI)("text-base font-medium",u.nx.labelTextPrimary),children:l("exitGuideTitle")}),(0,o.jsx)("div",{className:(0,a.yI)("mb-2 text-sm",u.nx.labelTextSecondary),children:l("exitGuideDesc")}),(0,o.jsx)("div",{className:"flex justify-end gap-2",children:(0,o.jsx)(x.z,{onClick:i,children:l("gotIt")})})]}),children:s})},S=function(){var e=(0,r.$G)("solutions",{keyPrefix:"sideBySide"}).t,n=(0,v.h)(),t=(0,f.WP)((function(e){return e.solutionSideBySideMode})),d=(0,f.WP)((function(e){return e.setSolutionSideBySideMode})),p=function(e){var n=e.solutionSideBySideMode,t=(0,s.useState)(!1),o=t[0],i=t[1],r=(0,s.useState)(!1),a=r[0],u=r[1],d=(0,y.G)((function(e){return e.solutionOpenedCount})),c=(0,y.G)((function(e){return e.showedFeatureEnter})),v=(0,y.G)((function(e){return e.showedFeatureExit})),f=(0,y.G)((function(e){return e.acknowledgedFeatureEnter})),p=(0,y.G)((function(e){return e.acknowledgedFeatureExit}));(0,s.useEffect)((function(){i(!n&&!c&&d>=3)}),[c,d,n]),(0,s.useEffect)((function(){u(n&&!v)}),[v,d,n]);var m=(0,l.z)((function(){i(!1),f()})),x=(0,l.z)((function(){u(!1),p()}));return{showedFeatureEnter:c,showedFeatureExit:v,openEnterGuide:o,openExitGuide:a,onEnterGuideConfirm:m,onExitGuideConfirm:x}}({solutionSideBySideMode:t}),m=p.showedFeatureEnter,S=p.showedFeatureExit,w=p.openEnterGuide,C=p.openExitGuide,N=p.onEnterGuideConfirm,I=p.onExitGuideConfirm,k=(0,s.useState)(!1),T=k[0],P=k[1],_=(0,l.z)((function(){var e,o;!t&&!m&&N(),t&&!S&&I(),d(!t),null===n||void 0===n||n.switchSolutionSideBySide(!t),(null===(o=null===(e=null===n||void 0===n?void 0:n.getTabNodeByComponent(c.r.Solutions))||void 0===e?void 0:e.getExtraData())||void 0===o?void 0:o.isRenderChildPage)||(null===n||void 0===n?void 0:n.getTabNodeByComponent(c.r.SolutionPost))||(P(!0),setTimeout((function(){P(!1)}),1e3))})),A=t?i.m6E:i.jNR,E=e(t?"exitMode":"enterMode"),B=e(t?"modeOn":"modeOff");return(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)(g.u,{label:B,open:T,placement:"top",children:(0,o.jsx)("div",{className:"relative h-6 w-6 cursor-pointer",onClick:_,children:(0,o.jsx)(g.u,{label:E,placement:"top",children:(0,o.jsx)(x.z,{variant:"ghost",size:"xs",onlyIcon:!0,shape:"square",className:(0,a.yI)("h-6 w-6",u.nx.labelTextSecondary,{"border-sd-blue-600 border":w||C}),children:(0,o.jsx)(h.e,{variant:"14px",padding:"square",icon:A})})})})}),(0,o.jsx)(b,{open:w,onConfirm:N,children:(0,o.jsx)("div",{className:"pointer-events-none absolute inset-0"})}),(0,o.jsx)(j,{open:C,onConfirm:I,children:(0,o.jsx)("div",{className:"pointer-events-none absolute inset-0"})})]})}},22807:function(e,n,t){"use strict";t.d(n,{P:function(){return f}});var o=t(14924),i=t(10253),r=t(85893),s=t(67294),a=t(51295),l=t(23254),u=t(15371),d=t(11516),c=t(87652),v=function(e){var n=e.text,t=e.onClick,o=e.className;return(0,r.jsx)("div",{onClick:t,className:(0,a.yI)(u.Cj.label2,u.Cj.fill3,"whitespace-nowrap rounded-[20px] px-2 py-[1px] text-xs",o),children:n})},f=function(e){var n=e.tags,t=e.listClassName,f=e.tagClassName,p=e.highlightTags,m=e.tagSlugs,x=e.showisFavorite,g=(0,s.useState)(null),h=g[0],y=g[1],b=(0,i.Z)(function(e,n){var t=(0,s.useState)(!0),o=t[0],i=t[1],r=(0,s.useState)(Math.min(e.length,4)),a=r[0],l=r[1],u=(0,s.useCallback)((function(){i(!0),l(Math.min(e.length,4))}),[e.length]),d=(0,c.M)((function(e){return e.horizontalSplitterRatio}));return(0,s.useEffect)((function(){return u()}),[d,u]),(0,s.useEffect)((function(){if(n&&o){if(!(n.scrollWidth>n.clientWidth)||a<=0)return i(!1);l((function(e){return e-1}))}}),[n,o,a]),(0,s.useMemo)((function(){return[e.slice(0,a),e.slice(a)]}),[e,a])}(n,h),2),j=b[0],S=b[1],w=S.reduce((function(e,n,t){return t?"".concat(n,", ").concat(e):n}),""),C=(0,a.yI)(d.nx.bgGray100,d.nx.labelTextReverse),N=j.map((function(e,n){return{name:e,slug:m?m[n]:""}}));return(0,r.jsxs)("div",{className:(0,a.yI)("flex flex-grow flex-nowrap items-center gap-2 overflow-hidden",t),ref:y,children:[x&&(0,r.jsx)(v,{text:"Favorite",className:(0,a.yI)(d.nx.labelYellow60,d.nx.bgOpacityYellow60)},"favorite"),N.map((function(e){return(0,r.jsx)(v,{text:e.name,className:(0,a.yI)(f,(0,o.Z)({},C,null===p||void 0===p?void 0:p.includes(e.slug)))},e.name)})),S.length>0&&(0,r.jsx)(l.J,{showArrow:!1,mobileEnable:!0,placement:"top",panelClassName:(0,a.yI)("max-w-[250px] min-w-0",u.Cj.bgLayer3),contentClassName:"p-0",content:(0,r.jsx)("div",{className:(0,a.yI)("whitespace-normal break-all px-2 py-1.5 text-xs",u.Cj.label2),children:w}),useHover:!0,children:(0,r.jsx)("span",{children:(0,r.jsx)(v,{text:"".concat(S.length,"+"),className:f})})})]})}},16886:function(e,n,t){"use strict";t.d(n,{mt:function(){return Rn},_v:function(){return $n}});var o,i=t(26042),r=t(85893),s=t(67294),a=t(11321),l=t(51295),u=t(15371),d=t(29297),c=t(93235),v=t(63244),f=t(87652),p=t(53923),m=t(44341),x=t(47207),g=t(76346),h=t(69396),y=t(88525),b=t(65854),j=t(33813),S=t(6919),w=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,y.u3W)(b.f6,{topicId:e.topicId},(0,h.Z)((0,i.Z)({},n),{select:function(e){var n,t,o,i,r,s,a,l,u,d,c,v,f,p,m,x,g,h,y,b,w,C,N,I,k,T=e.topic;return T?{slug:"",uuid:"",id:Number(T.id),content:(0,j.pC)(T.post.content),postId:T.post.id,title:T.title,isPinned:T.pinned,isFavorite:Boolean(T.isFavorite),isOfficial:!1,hasVideo:!1,isPremium:!1,isVideoPremium:!1,ipRegion:"",voteCount:T.post.voteCount,viewCount:T.viewCount,commentCount:T.topLevelCommentCount,creationDate:null!==(v=T.post.creationDate)&&void 0!==v?v:+new Date,isSubscribed:null!==(f=T.subscribed)&&void 0!==f&&f,tags:T.solutionTags?T.solutionTags.map((function(e){return null!==(p=null===e||void 0===e?void 0:e.name)&&void 0!==p?p:""})):[],tagSlugs:T.solutionTags?T.solutionTags.map((function(e){return null!==(m=null===e||void 0===e?void 0:e.slug)&&void 0!==m?m:""})):[],author:{userAvatar:null!==(x=null===(n=T.post.author)||void 0===n?void 0:n.profile.userAvatar)&&void 0!==x?x:"",username:null!==(g=null===(t=T.post.author)||void 0===t?void 0:t.username)&&void 0!==g?g:"",isActive:null!==(h=null===(o=T.post.author)||void 0===o?void 0:o.isActive)&&void 0!==h&&h,nameColor:null!==(y=null===(i=T.post.author)||void 0===i?void 0:i.nameColor)&&void 0!==y?y:void 0,activeBadgeIcon:null!==(b=null===(r=T.post.author)||void 0===r||null===(s=r.activeBadge)||void 0===s?void 0:s.icon)&&void 0!==b?b:"",activeBadgeName:null!==(w=null===(a=T.post.author)||void 0===a||null===(l=a.activeBadge)||void 0===l?void 0:l.displayName)&&void 0!==w?w:"",isAdmin:null!==(C=null===(u=T.post.author)||void 0===u?void 0:u.isDiscussAdmin)&&void 0!==C&&C,reputation:null!==(N=null===(d=T.post.author)||void 0===d||null===(c=d.profile)||void 0===c?void 0:c.reputation)&&void 0!==N?N:0},isOwnPost:null!==(I=T.post.isOwnPost)&&void 0!==I&&I,isHidden:Boolean(T.post.isHidden),isHiddenFromTrending:Boolean(T.hideFromTrending),isDeleted:Boolean(T.post.status===S.$4.Deleted),status:T.post.status,voteStatus:Number(null!==(k=T.post.voteStatus)&&void 0!==k?k:0)}:null}}))},C=t(49037),N=t(93769),I=t(27375),k=t(17396),T=k.AG,P=t(23874),_=t(23877),A=t(50293),E=t(14249),B=function(e){var n=e.itemsCount,t=Array(n).fill(null);return(0,r.jsxs)(A.O,{className:(0,l.yI)("flex w-full min-w-0 flex-col gap-4"),children:[(0,r.jsxs)("div",{className:"flex w-full justify-between",children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(E.a,{className:"h-6 w-[64px]"}),(0,r.jsx)(E.a,{className:"h-6 w-[64px]"})]}),(0,r.jsx)(E.a,{className:"h-6 w-[64px]"})]}),(0,r.jsx)(E.a,{className:"h-[140px] w-full"}),t.map((function(e,n){return(0,r.jsxs)("div",{className:"flex flex-col gap-2 pt-2",children:[(0,r.jsxs)("div",{className:"flex w-full gap-3",children:[(0,r.jsx)(E.a,{className:"h-10 w-10 min-w-[40px] rounded-full"}),(0,r.jsxs)("div",{className:"flex w-full flex-col gap-2",children:[(0,r.jsx)(E.a,{className:"h-4 w-[20%]"}),(0,r.jsx)(E.a,{className:"h-4 w-[25%]"})]})]}),(0,r.jsx)(E.a,{className:"h-4 w-full"}),(0,r.jsx)(E.a,{className:"h-4 w-[40%]"})]},n)}))]})},Z=function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(A.O,{className:(0,l.yI)("relative mx-auto flex h-full w-full max-w-[732px] flex-1 flex-col overflow-y-auto"),children:(0,r.jsxs)("div",{className:"flex w-full flex-col gap-4 overflow-y-scroll p-4",children:[(0,r.jsxs)("div",{className:"flex min-w-0 flex-col gap-4",children:[(0,r.jsx)(E.a,{className:"h-8 w-[60%]"}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(E.a,{className:"h-8 w-8 rounded-full"}),(0,r.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsx)(E.a,{className:"h-3 w-[120px]"})}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(E.a,{className:"h-3 w-[80px]"}),(0,r.jsx)(E.a,{className:"h-3 w-[60px]"}),(0,r.jsx)(E.a,{className:"h-3 w-[100px]"})]})]})]})]}),(0,r.jsx)("div",{className:"flex flex-col gap-4",children:Array(8).fill(null).map((function(e,n){return(0,r.jsx)(E.a,{className:(0,l.yI)("h-4",n%2===0?"w-full":"w-[50%]")},n)}))}),(0,r.jsxs)("div",{className:"flex gap-6",children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(E.a,{className:"h-4 w-4"}),(0,r.jsx)(E.a,{className:"h-4 w-8"}),(0,r.jsx)(E.a,{className:"h-4 w-4"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(E.a,{className:"h-4 w-4"}),(0,r.jsx)(E.a,{className:"h-4 w-8"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(E.a,{className:"h-4 w-4"}),(0,r.jsx)(E.a,{className:"h-4 w-8"})]})]}),(0,r.jsxs)("div",{className:"flex gap-5",children:[(0,r.jsx)(E.a,{className:"h-[64px] w-full"}),(0,r.jsx)(E.a,{className:"h-[64px] w-full"})]}),(0,r.jsx)(B,{itemsCount:2})]})}),(0,r.jsxs)(A.O,{className:(0,l.yI)(u.xy.borderFill01,"z-nav flex h-9 w-full items-center gap-2 border-t p-1"),children:[(0,r.jsx)(E.a,{className:"h-[26px] w-[100px] rounded-lg"}),(0,r.jsxs)("div",{className:"flex h-4 gap-2",children:[(0,r.jsx)(E.a,{className:"h-4 w-4 rounded-full"}),(0,r.jsx)(E.a,{className:"h-4 w-9"})]}),(0,r.jsx)("div",{className:"bg-sd-border h-4 w-px"}),(0,r.jsx)(E.a,{className:"h-4 w-4 rounded-full"})]})]})},L=t(11163),F=t.n(L),O=t(43955),q=t(46922),D=t(48005),M=t(27503),V=t(70341),G=t(50632),z=t(52841),X=t(84945),R=t(11516),U=t(85945),H=function(){return(0,y.jnm)(b.f6)},$=(t(82010),t(32180)),W=function(e){return(0,h.Z)((0,i.Z)({},(0,$.Z)(e,["orderBy","page","perPage","mySolution"])),{skip:(e.page-1)*e.perPage,first:e.perPage,orderBy:null!==(o=e.orderBy)&&void 0!==o?o:S.av.Hot})};var Q=function(e,n){var t=W(e);return n.invalidateQueries([y.CSp.getKey(t)[0]])},K=t(50078),Y=t(81815),J=t(56435),ee=k.dE,ne=function(e){var n=e.topicId,t=e.updateModal,o=e.slug,l=(0,a.$G)("solutions",{keyPrefix:"post.more"}).t,d=H().mutateAsync,c=(0,J.c)((function(e){return e.questionSlug})),v=(0,N.z2)((function(e){return e.isDynamicLayout})),f=(0,Y.n)().filters,p=(0,U.NL)(),x=(0,L.useRouter)(),g=(0,V.yp)(c,new URLSearchParams(window.location.search).toString()),y=ee({abName:"enableSolutionsInfiniteList",enabled:!0}).data,b=(0,C.h)(),j=(0,s.useCallback)((function(){t({loading:!0}),d({topicId:n,slug:o}).then((function(e){var r;if("deleteTopic"in e&&(!(null===(r=e.deleteTopic)||void 0===r?void 0:r.ok)||e.deleteTopic.error))return X.y.error(l("error"),{itemClassName:u.Cj.bgLayer3});if(v){var s=(0,m.d)(o,n);null===b||void 0===b||b.closeSolutionPostTab(s)}else x.push(g,void 0,{shallow:!0});y?(0,K.p2)((0,h.Z)((0,i.Z)({},f),{questionSlug:c}),p):Q((0,h.Z)((0,i.Z)({},f),{questionSlug:c}),p),X.y.success(l("deleteMessage"),{itemClassName:u.Cj.bgLayer3}),t({loading:!1,visible:!1})}))}),[t,d,n,o,y,l,v,b,x,g,f,c,p]),S=(0,s.useCallback)((function(){t({visible:!0,variant:"danger",confirmText:l("deleteConfirmText"),confirmBtn:l("deleteConfirmBtn"),onConfirm:j})}),[t,j,l]);return(0,r.jsx)(z.T,{onClick:S,children:l("delete")})},te=t(80315),oe=t(68616),ie=function(e){return Boolean(e.isOwnPost)||(0,te.F9)(e.permissions,oe.P.DiscussChangePost)},re=function(e){return Boolean(e.isOwnPost)||(0,te.F9)(e.permissions,oe.P.DiscussDeletePost)},se=t(47568),ae=t(10253),le=t(70655),ue=t(11355),de=function(e,n){var t=y.u3W.getKey({topicId:n}),o=e.getQueryData(t);return(0,ue.o)(e,t,o)},ce=function(e){var n=(0,Y.l)(),t=J.c.getState().questionSlug,o=W((0,h.Z)((0,i.Z)({},n),{questionSlug:t})),r=y.CSp.getKey(o),s=e.getQueryData(r);return(0,ue.o)(e,r,s)},ve=function(){var e=(0,U.NL)();return(0,y.cNx)(b.f6,{onMutate:function(){var n=(0,se.Z)((function(n){var t,o,i,r,s,a,l,u;return(0,le.__generator)(this,(function(d){return t=n.topicId,o=n.pinned,i=(0,ae.Z)(de(e,t),2),r=i[0],s=i[1],a=(0,ae.Z)(ce(e),2),l=a[0],u=a[1],r((function(e){(null===e||void 0===e?void 0:e.topic)&&(e.topic.pinned=o,l((function(e){e&&e.pages.flatMap((function(e){return e.solutions})).forEach((function(e){(null===e||void 0===e?void 0:e.id)===t&&(e.isPinned=o)}))})))})),[2,{cancelUpdateSolution:s,cancelUpdateSolutionList:u}]}))}));return function(e){return n.apply(this,arguments)}}(),onSuccess:function(e,n,t){var o;(null===(o=e.togglePinTopic)||void 0===o?void 0:o.ok)||(null===t||void 0===t||t.cancelUpdateSolution(),null===t||void 0===t||t.cancelUpdateSolutionList())}})},fe=function(e){var n=e.topicId,t=e.pinned,o=e.updateModal,i=(0,a.$G)("solutions",{keyPrefix:"post.more"}).t,l=(0,s.useState)(t),d=l[0],c=l[1],v=i(d?"unpin":"pin"),f=ve().mutateAsync,p=(0,s.useCallback)((function(){o({loading:!0}),c((function(e){return!e})),X.y.success(i(d?"unpinMessage":"pinMessage"),{itemClassName:u.Cj.bgLayer3}),f&&f({topicId:n,pinned:!d}).then((function(e){var n,t,r,s;(null===(n=e.togglePinTopic)||void 0===n?void 0:n.ok)&&!Boolean(null===(t=e.togglePinTopic)||void 0===t?void 0:t.error)||(X.y.error(i("error"),{itemClassName:u.Cj.bgLayer3}),c((function(e){return!e}))),c(Boolean(null===(r=e.togglePinTopic)||void 0===r||null===(s=r.topic)||void 0===s?void 0:s.pinned)),o({loading:!1,visible:!1})}))}),[o,c,f,n,d,i]),m=(0,s.useCallback)((function(){o({visible:!0,variant:"info",confirmText:i(d?"unpinConfirmText":"pinConfirmText"),confirmBtn:i(d?"unpinConfirmBtn":"pinConfirmBtn"),onConfirm:p})}),[o,p,d,i]);return(0,r.jsx)(z.T,{onClick:m,children:v})},pe=function(e){var n=(0,U.NL)();return(0,y.xim)(b.f6,{onMutate:function(){var t=(0,se.Z)((function(t){var o,i,r,s,a,l,u;return(0,le.__generator)(this,(function(d){return o=t.hide,i=(0,ae.Z)(de(n,e),2),r=i[0],s=i[1],a=(0,ae.Z)(ce(n),2),l=a[0],u=a[1],r((function(n){if(null===n||void 0===n?void 0:n.topic){var t=o?S.$4.Hidden:S.$4.Open;n.topic.post.isHidden=o,n.topic.post.status=t,l((function(n){n&&n.pages.flatMap((function(e){return e.solutions})).forEach((function(n){(null===n||void 0===n?void 0:n.id)===e&&(n.isHidden=o,n.status=t)}))}))}})),[2,{cancelUpdateSolution:s,cancelUpdateSolutionList:u}]}))}));return function(e){return t.apply(this,arguments)}}(),onSuccess:function(e,n,t){var o;(null===(o=e.hidePost)||void 0===o?void 0:o.ok)||(null===t||void 0===t||t.cancelUpdateSolution(),null===t||void 0===t||t.cancelUpdateSolutionList())}})},me=function(e){var n=e.topicId,t=e.postId,o=e.hidden,i=e.updateModal,l=(0,a.$G)("solutions",{keyPrefix:"post.more"}).t,d=(0,s.useState)(o),c=d[0],v=d[1],f=l(c?"show":"hide"),p=pe(n).mutateAsync,m=(0,s.useCallback)((function(){i({loading:!0}),v((function(e){return!e})),X.y.success(l(c?"showMessage":"hideMessage"),{itemClassName:u.Cj.bgLayer3}),p&&p({postId:t,hide:!c}).then((function(e){var n,t,o,r;(null===(n=e.hidePost)||void 0===n?void 0:n.ok)&&!Boolean(null===(t=e.hidePost)||void 0===t?void 0:t.error)||(X.y.error(l("error"),{itemClassName:u.Cj.bgLayer3}),v((function(e){return!e}))),v(Boolean(null===(o=e.hidePost)||void 0===o||null===(r=o.post)||void 0===r?void 0:r.isHidden)),i({loading:!1,visible:!1})}))}),[i,c,l,p,t]),x=(0,s.useCallback)((function(){i({visible:!0,variant:c?"info":"danger",confirmText:l(c?"showConfirmText":"hideConfirmText"),confirmBtn:l(c?"showConfirmBtn":"hideConfirmBtn"),onConfirm:m})}),[i,m,c,l]);return(0,r.jsx)(z.T,{onClick:x,children:f})},xe=function(){var e=(0,U.NL)();return(0,y.dnZ)(b.f6,{onMutate:function(){var n=(0,se.Z)((function(n){var t,o,i,r;return(0,le.__generator)(this,(function(s){return t=n.topicId,o=(0,ae.Z)(de(e,t),2),i=o[0],r=o[1],i((function(e){(null===e||void 0===e?void 0:e.topic)&&(e.topic.post.status=S.$4.Open)})),[2,{cancelUpdateSolution:r}]}))}));return function(e){return n.apply(this,arguments)}}(),onSuccess:function(e,n,t){var o;(null===(o=e.approveTopic)||void 0===o?void 0:o.ok)||null===t||void 0===t||t.cancelUpdateSolution()}})},ge=function(e){var n=e.topicId,t=e.updateModal,o=(0,a.$G)("solutions",{keyPrefix:"post.more"}).t,i=xe().mutateAsync,l=(0,s.useCallback)((function(){t({loading:!0}),X.y.success(o("restoreMessage"),{itemClassName:u.Cj.bgLayer3}),i&&i({topicId:n}).then((function(e){var n;if(!(null===(n=e.approveTopic)||void 0===n?void 0:n.ok))return X.y.error(o("error"),{itemClassName:u.Cj.bgLayer3});t({loading:!1,visible:!1})}))}),[t,i,n,o]),d=(0,s.useCallback)((function(){t({visible:!0,variant:"info",confirmText:o("restoreConfirmText"),confirmBtn:o("restoreConfirmBtn"),onConfirm:l})}),[t,l,o]);return(0,r.jsx)(z.T,{onClick:d,children:o("restore")})},he=function(){var e=(0,U.NL)();return(0,y.ir7)(b.f6,{onMutate:function(){var n=(0,se.Z)((function(n){var t,o,i,r,s;return(0,le.__generator)(this,(function(a){return t=n.topicId,o=n.hide,i=(0,ae.Z)(de(e,t),2),r=i[0],s=i[1],r((function(e){(null===e||void 0===e?void 0:e.topic)&&(e.topic.hideFromTrending=o)})),[2,{cancelUpdateSolution:s}]}))}));return function(e){return n.apply(this,arguments)}}(),onSuccess:function(e,n,t){var o;(null===(o=e.hideTopicFromTrending)||void 0===o?void 0:o.ok)||null===t||void 0===t||t.cancelUpdateSolution()}})},ye=function(e){var n=e.topicId,t=e.updateModal,o=(0,a.$G)("solutions",{keyPrefix:"post.more"}).t,i=he().mutateAsync,l=(0,s.useCallback)((function(){t({loading:!0}),X.y.success(o("hideFromTrendingMessage"),{itemClassName:u.Cj.bgLayer3}),i&&i({topicId:n,hide:!0}).then((function(e){var n;if(!(null===(n=e.hideTopicFromTrending)||void 0===n?void 0:n.ok))return X.y.error(o("error"),{itemClassName:u.Cj.bgLayer3});t({loading:!1,visible:!1})}))}),[t,i,n,o]),d=(0,s.useCallback)((function(){t({visible:!0,variant:"danger",confirmText:o("hideFromTrendingConfirmText"),confirmBtn:o("hideFromTrendingConfirmBtn"),onConfirm:l})}),[t,l,o]);return(0,r.jsx)(z.T,{onClick:d,children:o("hideFromTrending")})},be=function(){var e=(0,U.NL)();return(0,y.ejf)(b.f6,{onMutate:function(){var n=(0,se.Z)((function(n){var t,o,i,r;return(0,le.__generator)(this,(function(s){return t=n.topicId,o=(0,ae.Z)(de(e,t),2),i=o[0],r=o[1],i((function(e){(null===e||void 0===e?void 0:e.topic)&&(e.topic.post.status=S.$4.Deleted)})),[2,{cancelUpdateSolution:r}]}))}));return function(e){return n.apply(this,arguments)}}(),onSuccess:function(e,n,t){var o;(null===(o=e.migrateSolutionToDiscussion)||void 0===o?void 0:o.ok)||null===t||void 0===t||t.cancelUpdateSolution()}})},je=function(e){var n=e.topicId,t=e.updateModal,o=(0,a.$G)("solutions",{keyPrefix:"post.more"}).t,i=be().mutateAsync,l=(0,s.useCallback)((function(){t({loading:!0}),i&&i({topicId:n}).then((function(e){var n,i;if(!(null===e||void 0===e||null===(n=e.migrateSolutionToDiscussion)||void 0===n?void 0:n.ok))return X.y.error(o("error"),{itemClassName:u.Cj.bgLayer3});var r=J.c.getState().questionSlug,s=null===(i=e.migrateSolutionToDiscussion.comment)||void 0===i?void 0:i.id;r&&s&&window.open(V.Hb.discussionComment(r,s),"_blank"),X.y.success(o("moveToDiscussionMessage"),{itemClassName:u.Cj.bgLayer3}),t({loading:!1,visible:!1})}))}),[t,i,n,o]),d=(0,s.useCallback)((function(){t({visible:!0,variant:"info",confirmText:o("moveToDiscussionConfirmText"),confirmBtn:o("moveToDiscussionConfirmBtn"),onConfirm:l})}),[t,l,o]);return(0,r.jsx)(z.T,{onClick:d,children:o("moveToDiscussion")})},Se=function(e){var n=e.solution,t=e.postPerm,o=e.updateModal,i=n.id;return(0,r.jsxs)(r.Fragment,{children:[t.canPin&&(0,r.jsx)(fe,{topicId:i,pinned:n.isPinned,updateModal:o}),t.canHide&&(0,r.jsx)(me,{postId:n.postId,topicId:i,hidden:n.isHidden,updateModal:o}),t.canRestore&&n.isDeleted&&(0,r.jsx)(ge,{topicId:i,updateModal:o}),t.canHideFromTrending&&!n.isHiddenFromTrending&&(0,r.jsx)(ye,{topicId:i,updateModal:o}),t.canMoveToDiscuss&&(0,r.jsx)(je,{topicId:i,updateModal:o})]})},we=t(19898),Ce=function(e){var n,t=e.solution,o=e.placement,i=(0,a.$G)("solutions",{keyPrefix:"post.more"}).t,c=t.isOwnPost,v=t.isOfficial,f=t.id,p=t.slug,m=t.postId,x=null===(n=(0,G.U5)().data)||void 0===n?void 0:n.userStatus,g=[!!(null===x||void 0===x?void 0:x.isSignedIn),!!(null===x||void 0===x?void 0:x.isAdmin),null===x||void 0===x?void 0:x.permissions],h=g[0],y=function(e){var n=e.permissions,t=e.isOwnPost,o=e.isAdmin,i=e.isOfficial;return(0,s.useMemo)((function(){return{canEdit:ie({isOwnPost:t,isAdmin:o,isOfficial:i,permissions:n}),canReport:!t,canPin:(0,te.F9)(n,oe.P.DiscussPinTopic),canHide:(0,te.F9)(n,oe.P.DiscussHidePost),canHideFromTrending:o,canMoveToDiscuss:o,canDelete:re({isOwnPost:t,isAdmin:o,isOfficial:i,permissions:n}),canRestore:(0,te.F9)(n,oe.P.DiscussDeletePost),canEditorsPick:o,canOfficialPick:o,canMute:o,canSunk:o,canRemove:o&&!t}}),[t,n,o,i])}({permissions:g[2],isOwnPost:c,isAdmin:g[1],isOfficial:v}),b=(0,O.r)().isPrimaryVerified,j=(0,D.U)(),S=j.visible,w=j.showModal,C=j.hideModal,N=(0,M.t)(),I=N.modal,k=N.update,T=function(e){return e("report")}(i);return h?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(z.l,{placement:o,btnClassName:(0,l.yI)("w-7 h-7 p-1.5",R.nx.labelTextSecondary,R.rG.labelTextSecondary,R.rG.bgFillSecondary),iconClassName:(0,l.yI)(u.Cj.labelGrey6,u.M$.labelGrey7Group,"w-4 h-4","text-current dark:text-current hover:text-current dark:hover:text-current"),children:[y.canEdit&&(0,r.jsx)(z.T,{onClick:function(e){var n=J.c.getState().questionSlug;return d.d.qdEditPostClick({qd_version:(0,q.in)(),qd_question_slug:n}),e.stopPropagation(),e.preventDefault(),h?b?void F().push(V.Hb.solutionEditor(n,f,p)):X.y.error(i("common:maybeVerifiedRequired"),{itemClassName:u.Cj.bgLayer3}):X.y.error(i("common:loginRequired"),{itemClassName:u.Cj.bgLayer3})},children:i("edit")}),y.canReport&&(0,r.jsx)(z.T,{onClick:w,children:T}),y.canDelete&&!t.isDeleted&&(0,r.jsx)(ne,{topicId:f,slug:p,updateModal:k}),(0,r.jsx)(Se,{solution:t,postPerm:y,updateModal:k})]}),t.isOfficial?(0,r.jsx)(we.a,{visible:S,onCancel:C,slug:p}):(0,r.jsx)(we.y,{postId:m,articleId:t.uuid,visible:S,onCancel:C}),I]}):null},Ne=t(73582),Ie=t(68779),ke=t(83757),Te=function(e){var n=e.topicId,t=e.isFavorite,o=(0,U.NL)(),i=(0,y.XHC)(b.f6,{onMutate:function(){var e=(0,se.Z)((function(e){var t,i,r,s,a,l,u;return(0,le.__generator)(this,(function(d){return t=e.isFavorite,i=(0,ae.Z)(de(o,n),2),r=i[0],s=i[1],a=(0,ae.Z)(ce(o),2),l=a[0],u=a[1],r((function(e){(null===e||void 0===e?void 0:e.topic)&&(e.topic.isFavorite=t,l((function(e){e&&e.pages.flatMap((function(e){return e.solutions})).forEach((function(e){(null===e||void 0===e?void 0:e.id)===n&&(e.isFavorite=t)}))})))})),[2,{cancelUpdateSolution:s,cancelUpdateSolutionList:u}]}))}));return function(n){return e.apply(this,arguments)}}(),onSuccess:function(e,n,t){var o;(null===(o=e.toggleFavoriteSolution)||void 0===o?void 0:o.ok)||(null===t||void 0===t||t.cancelUpdateSolution(),null===t||void 0===t||t.cancelUpdateSolutionList())}}),r=!t,a=i.isLoading,l=i.mutateAsync;return{isLoading:a,mutateAsync:(0,s.useCallback)((0,se.Z)((function(){return(0,le.__generator)(this,(function(e){return[2,l({topicId:n,isFavorite:r}).then((function(e){var n,t,o;return{ok:null===(n=e.toggleFavoriteSolution)||void 0===n?void 0:n.ok,error:null===(t=e.toggleFavoriteSolution)||void 0===t?void 0:t.error,isFavorite:(null===(o=e.toggleFavoriteSolution)||void 0===o?void 0:o.ok)?r:!r}}))]}))})),[l,n,r])}},Pe=t(13042),_e=t(62758),Ae=t(134),Ee=function(e){var n=e.solution,t=(0,a.$G)("solutions",{keyPrefix:"post"}).t,o=n.slug,i=n.isFavorite,c=n.id,v=(0,s.useState)(i),f=v[0],p=v[1];(0,s.useEffect)((function(){return p(i)}),[i]);var m=Te({slug:o,isFavorite:f,topicId:c}),x=m.mutateAsync,g=m.isLoading,h=(0,s.useCallback)((function(){x().then((function(e){var n=e.ok,o=e.error,i=e.isFavorite;if(!n||o)return X.y.error(o||t("genericError"),{itemClassName:u.Cj.bgLayer3});X.y.success(t(i?"addToFavoriteSuccess":"removeFromFavoriteSuccess"),{itemClassName:u.Cj.bgLayer3}),p(i),d.d.qdFavoritePostClick({qd_version:(0,q.in)(),qd_question_slug:ke.v.getState().questionSlug,qd_favorite_pos:"bottom_bar"})}))}),[x,t]),y=t(f?"isInCollection":"addToCollection");return(0,r.jsx)(_e.u,{label:y,children:(0,r.jsx)(Pe.z,{icon:f?(0,r.jsx)(Ae.e,{variant:"14px",padding:"square",icon:Ne.Tab,className:R.nx.labelYellow60}):(0,r.jsx)(Ae.e,{variant:"14px",padding:"square",icon:Ie.Tab}),variant:"text",shape:"square",className:(0,l.yI)("p-1.5",R.nx.labelTextSecondary,R.rG.labelTextSecondary),onClick:g?void 0:h})})},Be=t(27459),Ze=t(84004),Le=function(e){var n=e.solution,t=(0,a.$G)("solutions",{keyPrefix:"post"}).t,o=(0,Ze.z)((function(){v.S6.getState().scrollToCommentListTop(Rn+n.id),d.d.qdViewPostCommentClick({qd_version:(0,q.in)(),qd_question_slug:ke.v.getState().questionSlug})}));return(0,r.jsx)(_e.u,{label:t("comments"),children:(0,r.jsx)(Pe.z,{variant:"text",label:void 0===n.commentCount?"":(0,Be.ZP)(n.commentCount),icon:(0,r.jsx)(Ae.e,{variant:"14px",padding:"square",icon:Ie.Mzg}),className:(0,l.yI)("px-2 py-1",R.nx.labelTextSecondary,R.rG.labelTextSecondary),onClick:o})})},Fe=function(e){var n=e.topicId,t=(0,U.NL)();return(0,y.sbl)(b.f6,{onMutate:function(){var e=(0,se.Z)((function(e){var o,i,r,s,a,l,u;return(0,le.__generator)(this,(function(d){return o=e.voteStatus,i=(0,ae.Z)(de(t,n),2),r=i[0],s=i[1],a=(0,ae.Z)(ce(t),2),l=a[0],u=a[1],r((function(e){var t;if(null===e||void 0===e?void 0:e.topic){var i,r=null!==(i=null===e||void 0===e||null===(t=e.topic)||void 0===t?void 0:t.post.voteStatus)&&void 0!==i?i:0,s=e.topic.post.voteCount+(o-r);e.topic.post.voteCount=s,e.topic.post.voteStatus=o,l((function(e){e&&e.pages.flatMap((function(e){return e.solutions})).forEach((function(e){(null===e||void 0===e?void 0:e.id)===n&&(e.voteCount=s,e.voteStatus=o)}))}))}})),[2,{cancelUpdateSolution:s,cancelUpdateSolutionList:u}]}))}));return function(n){return e.apply(this,arguments)}}(),onSuccess:function(e,n,t){var o;(null===(o=e.votePost)||void 0===o?void 0:o.ok)||(null===t||void 0===t||t.cancelUpdateSolution(),null===t||void 0===t||t.cancelUpdateSolutionList())},onError:function(e,n,t){null===t||void 0===t||t.cancelUpdateSolution(),null===t||void 0===t||t.cancelUpdateSolutionList()}})},Oe=function(e){var n=e.upvoted,t=e.topicId,o=e.postId,i=Fe({topicId:t}),r=i.mutateAsync,a=i.isLoading,l=(0,s.useCallback)((function(){return r({postId:o,voteStatus:n?S.i7.None:S.i7.Upvote}).then((function(e){var n,t;return{ok:null===(n=e.votePost)||void 0===n?void 0:n.ok,error:null===(t=e.votePost)||void 0===t?void 0:t.error}}))}),[o,n,r]);return{mutateAsync:l,isLoading:a}},qe=function(e){var n=e.downVoted,t=e.topicId,o=e.postId,i=Fe({topicId:t}),r=i.mutateAsync,a=i.isLoading,l=(0,s.useCallback)((function(){return r({postId:o,voteStatus:n?S.i7.None:S.i7.Downvote}).then((function(e){var n,t;return{ok:null===(n=e.votePost)||void 0===n?void 0:n.ok,error:null===(t=e.votePost)||void 0===t?void 0:t.error}}))}),[o,n,r]);return{mutateAsync:l,isLoading:a}},De=function(e){var n=(0,a.$G)("solutions",{keyPrefix:"post"}).t,t=(0,s.useState)(e.voteStatus),o=t[0],i=t[1];(0,s.useEffect)((function(){return i(e.voteStatus)}),[e.voteStatus]);var r=o===S.i7.Upvote,l=o===S.i7.Downvote,u=(0,O.r)(),d=u.isSignedIn,c=u.isVerified;return{upvoted:r,downvoted:l,checkIfVerified:(0,s.useCallback)((function(){return!(!d||!c)||(d?c?void 0:(X.y.error(n("verifyVoteError")),!1):(X.y.error(n("signInVoteError")),!1))}),[d,c,n])}},Me=(Ae.e,Ie.BwA,Ae.e,Ne.BwA,R.nx.labelGreen60,Ae.e,Ie.BwA,Ae.e,Ne.BwA,{upvote:(0,r.jsx)(Ae.e,{variant:"14px",padding:"square",icon:Ie.CLC}),upvoted:(0,r.jsx)(Ae.e,{variant:"14px",padding:"square",icon:Ne.CLC,className:R.nx.labelGreen60}),downvote:(0,r.jsx)(Ae.e,{variant:"14px",padding:"square",icon:Ie.rsI}),downvoted:(0,r.jsx)(Ae.e,{variant:"14px",padding:"square",icon:Ne.rsI})}),Ve=function(e){var n=e.solution,t=(0,a.$G)("solutions",{keyPrefix:"post"}).t,o=n.voteCount,i=n.postId,c=n.id,v=n.uuid,f=n.slug,p=De(n),m=p.upvoted,x=p.downvoted,g=p.checkIfVerified,h=Oe({upvoted:m,topicId:c,articleId:v,postId:i,slug:f}),y=h.isLoading,b=h.mutateAsync,j=qe({downVoted:x,topicId:c,articleId:v,postId:i,slug:f}),S=j.isLoading,w=j.mutateAsync,C=(0,s.useCallback)((function(){g()&&b().then((function(e){var n=e.ok,o=e.error;n?d.d.qdUpVotePostClick({qd_version:(0,q.in)(),qd_question_slug:ke.v.getState().questionSlug,qd_up_vote_pos:"bottom_bar"}):X.y.error(null!==o&&void 0!==o?o:t("genericError"),{itemClassName:u.Cj.bgLayer3})}))}),[g,b,t]),N=(0,s.useCallback)((function(){g()&&w().then((function(e){var n=e.ok,o=e.error;!n&&X.y.error(null!==o&&void 0!==o?o:t("genericError"),{itemClassName:u.Cj.bgLayer3}),n&&d.d.qdDownVotePostClick({qd_version:(0,q.in)(),qd_question_slug:ke.v.getState().questionSlug})}))}),[w,t,g]);return(0,r.jsxs)("div",{className:(0,l.yI)("flex overflow-hidden rounded-lg",R.nx.bgFillSecondary),children:[(0,r.jsx)(Pe.z,{variant:"text",icon:m?Me.upvoted:Me.upvote,label:(0,Be.ZP)(o),onClick:y?void 0:C,className:(0,l.yI)("rounded-none px-2 py-1",R.nx.labelTextSecondary,R.rG.labelTextSecondary)}),(0,r.jsx)("div",{className:(0,l.yI)("h-7 w-px",u.xy.bgLayer01)}),(0,r.jsx)(Pe.z,{variant:"text",icon:x?Me.downvoted:Me.downvote,onClick:S?void 0:N,className:(0,l.yI)("rounded-none p-1.5",R.nx.labelTextSecondary,R.rG.labelTextSecondary)})]})},Ge=t(82723),ze=Ge.E,Xe=function(e){var n=e.solution,t=e.className;return(0,r.jsxs)("div",{className:(0,l.yI)(u.xy.bgLayer01,u.xy.borderFill01,"flex h-9 w-full items-center gap-2 border-t p-1 px-4",t),children:[(0,r.jsxs)("div",{className:(0,l.yI)("flex items-center gap-1"),children:[(0,r.jsx)(Ve,{solution:n}),(0,r.jsx)(Le,{solution:n})]}),(0,r.jsx)("div",{className:"bg-sd-border h-4 w-px"}),(0,r.jsxs)("div",{className:(0,l.yI)("flex items-center gap-1"),children:[(0,r.jsx)(Ee,{solution:n}),(0,r.jsx)(Ce,{solution:n,placement:"top"}),(0,r.jsx)(ze,{solution:n,placement:"top"})]})]})},Re=t(20640),Ue=t.n(Re),He=t(84263),$e=t(13513),We=t(56852),Qe=t(75117),Ke=t(15214),Ye=t(42054),Je=t(26126),en=t(95633),nn=t(8290),tn=t(71767),on=s.forwardRef((function(e,n){return(0,r.jsx)("svg",(0,h.Z)((0,i.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M15.406 16.82a8 8 0 111.414-1.414l3.512 3.512a1 1 0 01-1.414 1.414l-3.512-3.512zM10.5 16.5a6 6 0 100-12 6 6 0 000 12zm-2.5-5a1 1 0 110-2h5a1 1 0 110 2H8z",clipRule:"evenodd"})}))})),rn=t(385),sn=function(e){var n=e.children,t=(0,ae.Z)((0,en.O)(!1),2),o=t[0],i=t[1],a=i.on,l=i.off,u=(0,s.useState)(""),d=u[0],c=(u[1],(0,s.useCallback)((function(e){}),[a]));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{onClick:c,children:n}),(0,r.jsxs)(nn.u,{visible:o,onCancel:l,className:"children:!overflow-visible my-0 h-[100vh] w-full rounded-none bg-transparent p-0",noShadow:!0,stopMouseDownPropagation:Ye.Z,closable:!1,children:[(0,r.jsx)(Je.d$,{minScale:.5,maxScale:5,pinch:{step:2e3},wheel:{step:.1},children:function(e){var n=e.zoomIn,t=e.zoomOut;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("figure",{className:"children:cursor-grab flex h-full w-full items-center justify-center",children:(0,r.jsx)(Je.Uv,{children:(0,r.jsx)("img",{src:d,alt:"",className:"max-h-[560px] w-auto max-w-[1080px] cursor-grab transition-transform duration-300"})})}),(0,r.jsxs)("div",{className:"bg-gray-7 dark:bg-dark-gray-7 fixed bottom-4 left-[50%] flex rounded-md p-2",children:[(0,r.jsx)(tn.W,{className:"text-paper dark:text-dark-paper h-6 w-6 cursor-pointer",onClick:function(){return n()}}),(0,r.jsx)("div",{className:"border-dark-divider-1 dark:border-divider-1 mx-2 h-6 border-r"}),(0,r.jsx)(on,{className:"text-paper dark:text-dark-paper h-6 w-6 cursor-pointer",onClick:function(){return t()}})]})]})}}),(0,r.jsx)("button",{onClick:l,className:"bg-gray-7 z-modal dark:bg-dark-gray-7 absolute right-0 top-0 m-5 cursor-pointer rounded p-2 transition-all",children:(0,r.jsx)(rn.F,{className:"text-paper dark:text-dark-paper h-6 w-6"})})]})]})},an=t(61879),ln=(t(63700),t(90793),t(79039)),un=s.forwardRef((function(e,n){return(0,r.jsx)("svg",(0,h.Z)((0,i.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M16.848 13.05l.918 7.848a1 1 0 01-1.508.974L12 19.317l-4.258 2.555a1 1 0 01-1.508-.974l.918-7.848a7 7 0 119.695 0zm-1.864 1.284A6.973 6.973 0 0112 15a6.972 6.972 0 01-2.984-.666l-.56 4.776 3.03-1.817a1 1 0 011.028 0l3.03 1.817-.56-4.776zM17 8A5 5 0 117 8a5 5 0 0110 0z",clipRule:"evenodd"})}))})),dn=t(46414),cn=t(38488),vn=t(8590),fn=t(73082),pn=t(53028),mn=t(22807),xn=t(76575),gn=Ge.E,hn=function(e){return e.slice(0,100)+(e.length>100?"...":"")},yn=function(e){var n=e.isAdmin,t=(0,a.$G)("solutions",{keyPrefix:"post"}).t;return n?(0,r.jsx)(xn.E,{icon:ln.f,label:t("isAdmin"),iconClassName:u.xy.labelIconSecondary,labelClassName:u.xy.labelTextSecondary}):null},bn=function(e){var n=e.reputation,t=e.iconClassName,o=e.labelClassName,i=(0,a.$G)("solutions",{keyPrefix:"post"}).t;return n?(0,r.jsx)(_e.u,{label:i("reputationTooltip"),placement:"top",children:(0,r.jsx)("div",{children:(0,r.jsx)(xn.E,{icon:un,label:n,iconClassName:t,labelClassName:o})})}):null},jn=Ge.E,Sn=function(e){var n=e.className,t=e.solution,o=(0,s.useMemo)((function(){return hn(t.title)}),[t.title]),i=t.author,a=[i.username],d=(0,cn.Ew)(a).data,c=null===d||void 0===d?void 0:d[i.username];return(0,r.jsx)("div",{className:(0,l.yI)("w-full",n),children:(0,r.jsxs)("div",{className:"flex min-w-0 flex-col gap-3",children:[(0,r.jsx)("div",{className:(0,l.yI)("text-base font-semibold [overflow-wrap:anywhere]",u.xy.labelTextPrimary),children:o}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(vn.D,{userAvatar:i.userAvatar,username:i.username}),(0,r.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(fn.S,{realName:i.realName,username:i.username,badgeIcon:i.activeBadgeIcon||(null===c||void 0===c?void 0:c.activeBadgeIcon)||"",badgeName:i.activeBadgeName||(null===c||void 0===c?void 0:c.activeBadgeName)||"",userClassName:(0,l.yI)("font-normal",R.nx.labelTextPrimary),reputation:null===c||void 0===c?void 0:c.reputation}),(0,r.jsx)(gn,{userSlug:i.username}),(0,r.jsx)(yn,{isAdmin:i.isAdmin})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(bn,{reputation:i.reputation,iconClassName:R.nx.labelTextTertiary,labelClassName:R.nx.labelTextSecondary}),(0,r.jsx)(xn.E,{icon:dn.t,label:t.viewCount,iconClassName:R.nx.labelTextTertiary,labelClassName:R.nx.labelTextSecondary}),(0,r.jsx)(pn.c,{timestamp:t.creationDate,iconClassName:R.nx.labelTextTertiary,formattedDateClassName:R.nx.labelTextSecondary}),(0,r.jsx)(jn,{ipRegion:t.ipRegion,labelClassName:R.nx.labelTextSecondary})]})]})]}),t.tags.length>0&&(0,r.jsx)(mn.P,{tags:t.tags,listClassName:"my-1",tagClassName:(0,l.yI)("h-5 flex items-center px-3",u.xy.bgFill01,u.xy.labelTextSecondary)})]})})},wn=t(21950),Cn=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=(0,h.Z)((0,i.Z)({},W(e)),{topicId:e.topicId,topicSlug:e.topicSlug});return(0,y.sN1)(b.f6,(0,i.Z)({},t),(0,h.Z)((0,i.Z)({},n),{enabled:Boolean(e.questionSlug),select:function(e){var n=e.prevSolution,t=e.nextSolution;return n||t?{prevSolution:n?{topicId:n.id,topicSlug:(0,wn.o)(n.title),title:n.title}:void 0,nextSolution:t?{topicId:t.id,topicSlug:(0,wn.o)(t.title),title:t.title}:void 0}:{prevSolution:void 0,nextSolution:void 0}}}))},Nn=t(54340),In=t(94424),kn=t(50077),Tn=function(e){var n=e.className,t=e.placement,o=e.questionSlug,i=e.topicId,c=e.topicSlug,v=e.title,f=e.currentTopicId,p=e.currentTopicSlug,m=(0,a.$G)("solutions",{keyPrefix:"post"}).t,x=(0,s.useMemo)((function(){return new URLSearchParams(window.location.search).toString()}),[]),g=(0,V.yp)(o,x,i,c),h="left"===t,y="right"===t,b=h?In.D:kn.E,j=m(h?"prevLabel":"nextLabel"),S=(0,ke.v)((function(e){return e.questionSlug})),w=(0,C.h)(),k=(0,N.z2)((function(e){return e.isDynamicLayout})),T=(0,_.WP)((function(e){return e.multipleTabMode})),P=(0,_.WP)((function(e){return e.solutionSideBySideMode})),A=T||P,E=(0,s.useCallback)((function(e){if(e.preventDefault(),k){var n={topicId:f};A?null===w||void 0===w||w.setTabConfig(I.r.SolutionPost,{title:v,questionSlug:o,topicId:i,topicSlug:c},n):null===w||void 0===w||w.openSolutionPostTab({title:v,questionSlug:o,topicId:i,topicSlug:c})}else F().push(g,void 0,{shallow:!0});d.d.qdPrevNextPostClick({qd_version:(0,q.in)(),qd_question_slug:S,qd_post_switch_type:h?"prev":"next"})}),[k,S,h,p,f,A,w,v,o,i,c,g]);return(0,r.jsxs)(Nn.r,{href:g,className:(0,l.yI)(u.Cj.fill1Hover,u.Cj.borderFill2,"flex min-w-0 justify-between gap-3 rounded-lg border px-4 py-3",n),onClick:E,children:[(0,r.jsx)("div",{className:(0,l.yI)("flex h-full items-center",{"order-1":h,"order-2":y}),children:(0,r.jsx)(b,{className:(0,l.yI)(u.xy.labelIconSecondary,"h-4 w-4")})}),(0,r.jsxs)("div",{className:(0,l.yI)("flex w-full flex-col gap-1 overflow-hidden",{"order-2":h,"order-1":y}),children:[(0,r.jsx)("div",{className:(0,l.yI)(u.xy.labelTextTertiary,"text-[11px] font-medium leading-[13px]",{"text-right":h,"text-left":y}),children:j}),(0,r.jsx)("div",{className:(0,l.yI)(u.xy.labelTextPrimary,"text-md truncate font-medium",{"text-right":h,"text-left":y}),children:v})]})]})},Pn=function(){return(0,r.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,r.jsx)(E.a,{className:"h-[64px] w-full"}),(0,r.jsx)(E.a,{className:"h-[64px] w-full"})]})},_n=function(e){var n=e.topicId,t=e.topicSlug,o=(0,J.c)((function(e){return e.questionSlug})),s=(0,Y.n)().filters,a=Cn((0,h.Z)((0,i.Z)({},s),{topicId:n,topicSlug:t,questionSlug:o})),l=a.isFetching,u=a.data;if(l||!u)return(0,r.jsx)(Pn,{});var d=u.prevSolution,c=u.nextSolution;return(0,r.jsxs)("div",{className:"flex justify-between gap-4",children:[d&&(0,r.jsx)(Tn,{className:"w-full",placement:"left",questionSlug:o,topicId:d.topicId,title:d.title,topicSlug:d.topicSlug,currentTopicId:n,currentTopicSlug:t}),c&&(0,r.jsx)(Tn,{className:"w-full",placement:"right",questionSlug:o,topicId:c.topicId,title:c.title,topicSlug:c.topicSlug,currentTopicId:n,currentTopicSlug:t})]})},An=t(50834),En=t.n(An),Bn=t(36866),Zn=t(18526),Ln=function(){var e=(0,Bn.B)(y.jBr.QdSolutionDetail).data;return e?(0,r.jsx)(Zn.r,{slot:e.slot,width:e.width,height:e.height}):null},Fn={highlight:!0,gfm:!0,math:!0,html:!0,mcqs:Qe.Oo,diaporama:Qe.Oo,imageSize:!0,embedVideos:Qe.Oo,normalVideo:Qe.ob,groupedCode:!0,relAttribute:!0,httpsImagesOnly:Qe.Oo,premiumOnlyVideo:Qe.Oo,htmlSanitization:!0,nodebbImageTransformation:Qe.Oo,brokenImageHolder:!0,linkSift:Qe.ob,linkTargetBlank:!0,aliPlayerVideo:Qe.ob,slides:Qe.ob,toc:!0,customComponent:!0},On=(0,He.t)((0,h.Z)((0,i.Z)({},Fn),{preserveLineBreaks:!0})),qn=function(e){var n,t=e.solution,o=t.isOfficial?null===t||void 0===t||null===(n=t.content)||void 0===n?void 0:n.replace(/\[toc\]/gi,""):null===t||void 0===t?void 0:t.content,i=(0,s.useMemo)((function(){var e;return{author:null!==(e=t.author.realName)&&void 0!==e?e:t.author.username,link:"".concat(window.location.origin).concat(window.location.pathname)}}),[t.author.realName,t.author.username]),a=(0,Ke.d1)(i),u=(0,s.useState)(),d=u[0],c=u[1],v=(0,s.useState)(!1),f=v[0],p=v[1],m=(0,$e.G)();return(0,s.useEffect)((function(){if(t.slateValue)try{var e=JSON.parse(t.slateValue);c(e)}catch(n){}}),[t.slateValue]),(0,s.useEffect)((function(){d&&(0,We._v)(500).then((function(){p(!0)}))}),[d,t.slug]),(0,r.jsxs)("div",{className:(0,l.yI)("flex w-full flex-col gap-4 p-4 pb-8"),children:[(0,r.jsx)(Sn,{solution:t}),(0,r.jsx)("div",{className:"break-words",onCopy:a,children:t.slateValue?(0,r.jsxs)(r.Fragment,{children:[!f&&(0,r.jsxs)(A.O,{className:"flex flex-col gap-4",children:[(0,r.jsx)(E.a,{className:"h-4 w-[90%]"}),(0,r.jsx)(E.a,{className:"h-4 w-[60%]"}),(0,r.jsx)(E.a,{className:"h-4 w-[90%]"})]}),(0,r.jsx)("div",{style:{opacity:Number(f)},children:(0,r.jsx)(an.e,{isDarkMode:m,readOnly:!0,initValue:d,onCopyContent:function(e){e.length>=80?Ue()(e+(0,Ke.Ou)(i)):Ue()(e)}})})]}):(0,r.jsx)(Ke.yT,{value:i,children:(0,r.jsx)(sn,{children:(0,r.jsx)(On,{content:o||"",customStyles:En()})})})}),(0,r.jsx)(Ln,{}),(0,r.jsx)(_n,{topicId:t.id,topicSlug:t.slug})]})},Dn=(t(82647),t(59421)),Mn=function(e){var n=e.topicId;return(0,y.O6j)(b.f6,{topicId:n},{enabled:!!n,select:function(e){var n,t,o=null===e||void 0===e?void 0:e.topic;return o?{title:o.title,author:null!==(t=null===(n=o.post.author)||void 0===n?void 0:n.username)&&void 0!==t?t:""}:null}})},Vn=function(e){var n=e.questionSlug,t=e.topicId,o=e.topicSlug,i=(0,a.$G)("problems").t,r=(0,Dn.K)(n).data,s=Mn({topicId:Number(t)}).data,l="https://".concat(q._d),u="".concat(null===s||void 0===s?void 0:s.title," - ").concat(null===r||void 0===r?void 0:r.title),d="View ".concat(null===s||void 0===s?void 0:s.author,"'s solution of ").concat(null===r||void 0===r?void 0:r.title," on LeetCode, the world's largest programming community."),c="".concat(l).concat(V.Hb.questionDetail(n),"solutions/").concat(t,"/").concat(o);return{title:i("meta.title",{title:u}),description:d,link:c}},Gn=t(16424),zn=t(92479),Xn=function(e){var n=e.questionSlug,t=e.topicId,o=e.topicSlug,i=(0,a.$G)("common").t,s=(0,a.$G)("solutions",{keyPrefix:"post"}).t,u=(0,C.h)(),d=(0,_.WP)((function(e){return e.solutionSideBySideMode})),c=(0,_.WP)((function(e){return e.multipleTabMode})),v=(0,N.z2)((function(e){return e.isDynamicLayout})),f=(0,L.useRouter)(),p="https://".concat(q._d).concat(V.Hb.solutions(n,t,o)),x=(0,Ze.z)((function(){if(v){var e=(0,m.d)(o,t);null===u||void 0===u||u.closeSolutionPostTab(e)}else f.push(V.Hb.solutions(n),void 0,{shallow:!0})}));return(0,r.jsxs)("div",{className:(0,l.yI)("flex h-8 w-full justify-between border-b py-1 pl-2 pr-1",R.nx.borderBorderQuaternary),children:[(0,r.jsxs)("div",{onClick:x,className:(0,l.yI)("flex cursor-pointer items-center gap-2 text-sm",R.nx.labelTextSecondary,R.rG.labelTextPrimary),children:[(0,r.jsx)(Ae.e,{variant:"14px",padding:"square",icon:Ie.acZ}),s("allSolutions")]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(Gn.q,{copyValue:p,className:"h-6 w-6",showOnGroupHover:!1,customCopyIcon:(0,r.jsx)(_e.u,{label:i("copyLink"),placement:"top",children:(0,r.jsx)("div",{children:(0,r.jsx)(Pe.z,{variant:"text",shape:"square",size:"sm",icon:(0,r.jsx)(Ae.e,{variant:"14px",padding:"square",icon:Ie.nNP}),className:(0,l.yI)("p-1",R.nx.labelTextSecondary)})})}),customCopiedIcon:(0,r.jsx)(Pe.z,{variant:"text",shape:"square",size:"sm",icon:(0,r.jsx)(Ae.e,{variant:"14px",padding:"square",icon:Ie.LEp}),className:(0,l.yI)("p-1",R.nx.labelGreen60,"enabled:hover:bg-transparent")})}),v&&!d&&!c&&(0,r.jsx)(zn.I,{})]})]})},Rn="solution-detail",Un=function(e){var n=e.title,t=e.description;return(0,r.jsxs)("div",{className:"flex h-full w-full flex-col items-center justify-center",children:[(0,r.jsx)(p.D,{}),n&&(0,r.jsx)("h3",{className:(0,l.yI)("mt-[32px] text-center text-base",u.Cj.labelGrey8),children:n}),t&&(0,r.jsx)("p",{className:(0,l.yI)("mt-[12px] text-center text-xs",u.Cj.label4),children:t})]})},Hn=function(e){var n=e.topicId,t=e.topicSlug,o=e.commentId,i=e.questionSlug,u=(0,a.$G)("solutions",{keyPrefix:"post"}).t,p=Boolean(n&&t),h=w({topicId:n,slug:t},{enabled:p}),y=h.isFetching,b=h.data,j=(0,f.M)((function(e){return e.solutionSide})),S=T().mutateAsync;(0,s.useEffect)((function(){S&&S({entityId:t,entityType:P.pyR.Article})}),[S,t]),(0,s.useEffect)((function(){d.d.qdSolutionDetailExposure({qd_question_slug:i,qd_post_url:window.location.href,qd_panel_side:j})}),[i,j]);var k=!y&&b,A=!p||!y&&!b,E=Vn({questionSlug:i,topicId:n,topicSlug:t}),B=(0,C.h)(),L=(0,_.WP)((function(e){return e.multipleTabMode})),F=(0,N.z2)((function(e){return e.isDynamicLayout})),O=(0,_.WP)((function(e){return e.solutionSideBySideMode}));return(0,s.useEffect)((function(){if(!y&&b)if(L||O){var e=(0,m.d)(t,n);null===B||void 0===B||B.setTabCustomTitle(I.r.SolutionPost,b.title,e),null===B||void 0===B||B.reselectTab(I.r.SolutionPost,e)}else null===B||void 0===B||B.setTabCustomTitle(I.r.Solutions,b.title),null===B||void 0===B||B.reselectTab(I.r.Solutions)}),[y,b,n]),(0,r.jsxs)(r.Fragment,{children:[!F&&(0,r.jsx)(g.p,{title:E.title,description:E.description,openGraph:{url:E.link}}),(0,r.jsx)("div",{className:(0,l.yI)("h-full w-full overflow-hidden",{"!min-w-[440px]":F}),children:(0,r.jsx)("div",{className:"flex h-full w-full items-start justify-center",children:(0,r.jsx)("div",{className:"flex h-full w-full",children:(0,r.jsxs)("div",{className:"relative flex h-full w-full min-w-0 flex-col",children:[(0,r.jsx)(Xn,{questionSlug:i,topicId:n,topicSlug:t}),(0,x.Y)(y&&(0,r.jsx)(Z,{}),A&&(0,r.jsx)(Un,{title:u("invalidSolutionTitle"),description:u("invalidSolutionDescription")}),k&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:(0,l.yI)("relative flex w-full flex-1 flex-col overflow-y-auto"),children:(0,r.jsxs)("div",{className:"mx-auto w-full max-w-[732px]",children:[(0,r.jsx)(qn,{solution:b}),(0,r.jsx)("div",{children:(0,r.jsx)(c.V,{topicId:b.id,questionSlug:i,commentCount:b.commentCount,commentId:o,layoutType:v.Dk.Solution,uniqueKey:Rn+b.id})})]})}),(0,r.jsx)(Xe,{solution:b,solutionSide:j})]}),(0,r.jsx)(Un,{title:"",description:""}))]})})})})]})},$n=function(e){var n=(0,J.c)((function(e){return e.setQuestionSlug}));(0,s.useEffect)((function(){return n(e.questionSlug)}),[n,e.questionSlug]);var t=(0,N.z2)((function(e){return e.addOpeningSolutionIdAndSlug})),o=(0,N.z2)((function(e){return e.removeOpeningSolutionIdAndSlug}));return(0,s.useEffect)((function(){return t(e.topicId,e.topicSlug),function(){return o(e.topicId,e.topicSlug)}}),[t,e.topicId,e.topicSlug,o]),(0,r.jsx)(Hn,(0,i.Z)({},e))}},25270:function(e,n,t){"use strict";t.d(n,{X:function(){return c}});var o=t(26042),i=t(69396),r=t(99534),s=t(15937),a=t(73445),l=t(782),u=t(76248),d={query:"",languageTags:[],topicTags:[],isSelectedMySolutionTag:!1,orderBy:void 0,page:1,perPage:15},c=(0,a.Ue)((0,l.XR)((0,l.$e)((0,i.Z)((0,o.Z)({},d),{tagNamesMap:{}}),(function(e){return{updateFilters:function(n){return e((function(e){var t=n.page,s=(0,r.Z)(n,["page"]),a=void 0===t,l=(0,i.Z)((0,o.Z)({},e,s),{page:a?1:t});return(0,u.X)(e,n)?e:l}))},setTagNamesMap:function(n){return e((function(e){return(0,i.Z)((0,o.Z)({},e),{tagNamesMap:(0,s.Z)(n.map((function(e){return[e.slug,e.name]})))})}))},resetFilters:function(){return e((function(e){return(0,o.Z)({},e,d)}))}}}))))},56435:function(e,n,t){"use strict";t.d(n,{c:function(){return u}});var o=t(26042),i=t(69396),r=t(73445),s=t(782),a=t(76248),l={questionSlug:"",topicId:void 0,topicTitleSlug:void 0,commentId:void 0},u=(0,r.Ue)((0,s.XR)((0,s.$e)(l,(function(e){return{setQuestionSlug:function(n){return e((function(e){return(0,i.Z)((0,o.Z)({},e),{questionSlug:n})}))},update:function(n){return e((function(e){return(0,a.X)(e,n)?e:(0,o.Z)({},e,n)}))},reset:function(){return e((function(e){return(0,i.Z)((0,o.Z)({},e),{topicId:void 0,topicTitleSlug:void 0,commentId:void 0})}))}}}))))},81815:function(e,n,t){"use strict";t.d(n,{l:function(){return l},n:function(){return a}});var o=t(69441),i=t(67294),r=t(25270),s=["query","languageTags","topicTags","orderBy","page","perPage"],a=function(){var e=(0,r.X)((function(e){return(0,o.Z)(e,s)})),n=(0,r.X)((function(e){return e.page})),t=(0,r.X)((function(e){return e.updateFilters})),a=(0,i.useCallback)((function(e){return t({page:e})}),[t]);return{filters:e,page:n,onPageChange:a}},l=function(){return(0,o.Z)(r.X.getState(),s)}},40884:function(e,n,t){"use strict";t.d(n,{G:function(){return d}});var o=t(26042),i=t(69396),r=t(73445),s=t(782),a="QD_SHOWED_SIDE_BY_SIDE_FEATURE_ENTER",l="QD_SHOWED_SIDE_BY_SIDE_FEATURE_EXIT",u=window.localStorage;var d=(0,r.Ue)((0,s.$e)({solutionOpenedCount:0,showedFeatureEnter:!!u&&"true"===localStorage.getItem(a),showedFeatureExit:!!u&&"true"===localStorage.getItem(l)},(function(e){return{addSolutionOpenedCount:function(){return e((function(e){return(0,i.Z)((0,o.Z)({},e),{solutionOpenedCount:e.solutionOpenedCount+1})}))},acknowledgedFeatureEnter:function(){localStorage.setItem(a,JSON.stringify(!0)),e((function(e){return(0,i.Z)((0,o.Z)({},e),{showedFeatureEnter:!0})}))},acknowledgedFeatureExit:function(){localStorage.setItem(l,JSON.stringify(!0)),e((function(e){return(0,i.Z)((0,o.Z)({},e),{showedFeatureExit:!0})}))}}})))},18526:function(e,n,t){"use strict";t.d(n,{r:function(){return N}});var o=t(26042),i=t(69396),r=t(99534),s=t(85893),a=t(73582),l=t(4298),u=t.n(l),d=t(67294),c=t(51295),v=t(73670),f=t(84004),p=t(70341),m=t(35094),x=t(54340),g=t(87231),h=t(41435),y=t(83210),b=t(134),j="ca-pub-3965754337269139",S=function(e){var n=e.slot,t=e.width,o=e.height,i=e.onAdStatusChange,r=(0,d.useRef)(null);return(0,d.useEffect)((function(){var e=r.current;if(e){var n=new MutationObserver((function(n){n.forEach((function(n){if("data-ad-status"===n.attributeName){var t=e.getAttribute("data-ad-status");t&&(null===i||void 0===i||i(t))}}))}));return n.observe(e,{attributes:!0,attributeFilter:["data-ad-status"]}),function(){n.disconnect()}}}),[i]),(0,d.useEffect)((function(){try{(window.adsbygoogle=window.adsbygoogle||[]).push({})}catch(e){}}),[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u(),{async:!0,src:"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=".concat(j),crossOrigin:"anonymous"}),(0,s.jsx)("ins",{className:"adsbygoogle",style:{display:"inline-block",width:"".concat(t,"px"),height:"".concat(o,"px")},"data-ad-client":j,"data-ad-slot":n,ref:r})]})},w=function(e){var n,t=e.slot,o=e.width,i=e.height,r=e.onAdStatusChange,a=(0,d.useState)(!1),l=a[0],u=a[1],f=(0,d.useState)(null),p=f[0],m=f[1],x=(0,v.s)(p,{threshold:.5}),g=null!==(n=null===x||void 0===x?void 0:x.isIntersecting)&&void 0!==n&&n,h=(0,d.useState)(o),y=h[0],b=h[1];return(0,d.useEffect)((function(){if(!l&&g&&p){var e=p.getBoundingClientRect().x+y+10-window.innerWidth;b((function(n){return e>0?n-e:n})),u(!0)}}),[p,l,g,y]),(0,s.jsx)("div",{className:(0,c.yI)("group-hover/ads:bg-sd-muted relative overflow-hidden transition-colors","group-hover/ads:before:text-sd-muted-foreground/50 before:absolute before:left-1/2 before:top-1/2 before:-translate-x-1/2 before:-translate-y-1/2 before:text-transparent before:transition-colors before:content-['Advertisement']"),ref:m,children:(0,s.jsx)("div",{style:{width:"".concat(y,"px"),height:"".concat(i,"px")},children:l&&(0,s.jsx)(S,{slot:t,width:y,height:i,onAdStatusChange:r})})})},C=function(e){var n=e.onClose,t=(0,d.useState)(!1),o=t[0],i=t[1];(0,d.useEffect)((function(){o&&g.o.advertisementAdsensePopupExposure()}),[o]);var r=(0,f.z)((function(){g.o.advertisementAdsenseCloseBtnClick()})),l=(0,f.z)((function(){g.o.advertisementAdsensePopupCloseClick(),n()})),u=(0,f.z)((function(){g.o.advertisementAdsensePopupSubscribeClick(),i(!1)}));return(0,s.jsx)(h.J2,{open:o,onOpenChange:i,side:"left",align:"start",sideOffset:0,className:"border-sd-border flex max-w-[340px] flex-col gap-3 border pt-3 text-sm",onOpenAutoFocus:function(e){return e.preventDefault()},content:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("div",{className:"text-sd-foreground text-base font-medium",children:"\u2728 Upgrade to Ad-free"}),(0,s.jsx)("div",{className:"text-sd-muted-foreground text-sm",children:"Premium users enjoy the Ad-free LeetCoding experience."})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(y.z,{onClick:l,size:"xs",variant:"secondary",children:"Close this one"}),(0,s.jsx)(y.z,{onClick:u,size:"xs",variant:"success",className:"bg-sd-brand-lc-orange hover:bg-sd-brand-lc-orange/80 hover:text-sd-fixed-white dark:hover:text-sd-fixed-white",asChild:!0,children:(0,s.jsx)(x.r,{href:p.Hb.premium(m.D.AdSenseRemove),isExternal:!0,children:"Subscribe to Upgrade"})})]})]}),children:(0,s.jsx)("div",{className:"bg-sd-muted text-sd-muted-foreground h-6 w-6 flex-none cursor-pointer p-1 opacity-0 transition-opacity group-hover/ads:opacity-100",onClick:r,children:(0,s.jsx)(b.e,{variant:"14px",padding:"square",icon:a.YIN})})})},N=function(e){var n=e.className,t=(0,r.Z)(e,["className"]),a=(0,d.useState)(!1),l=a[0],u=a[1],v=(0,d.useState)(!1),p=v[0],m=v[1],x=(0,f.z)((function(){m(!0)})),g=(0,f.z)((function(e){u("unfilled"===e)}));return p||l?null:(0,s.jsxs)("div",{className:(0,c.yI)("group/ads flex w-full items-start justify-start",n),children:[(0,s.jsx)(w,(0,i.Z)((0,o.Z)({},t),{onAdStatusChange:g})),(0,s.jsx)(C,{onClose:x})]})}},83210:function(e,n,t){"use strict";t.d(n,{d:function(){return v},z:function(){return f}});var o=t(26042),i=t(69396),r=t(99534),s=t(85893),a=t(67294),l=t(88426),u=t(29107),d=t(51295),c=function(){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",className:"animate-spin",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12s4.477 10 10 10a1 1 0 100-2 8 8 0 118-8 1 1 0 102 0z",clipRule:"evenodd"})})},v=(0,u.j)("relative inline-flex items-center justify-center text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-sd-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-sd-primary text-sd-primary-foreground hover:bg-sd-primary/90",outline:"border border-sd-input bg-transparent hover:bg-sd-accent text-sd-foreground hover:text-sd-accent-foreground",secondary:"bg-sd-secondary text-sd-secondary-foreground hover:bg-sd-secondary/80",ghost:"text-sd-foreground hover:bg-sd-accent hover:text-sd-accent-foreground",link:"text-sd-primary underline-offset-4 hover:underline",danger:"bg-sd-danger text-sd-fixed-white hover:bg-sd-danger/80",warning:"bg-sd-warning text-sd-fixed-white hover:bg-sd-warning/80",info:"bg-sd-info text-sd-fixed-white hover:bg-sd-info/80",success:"bg-sd-success text-sd-fixed-white hover:bg-sd-success/80"},size:{default:"h-9 px-4 py-2",xs:"h-7 rounded-sd-md px-2 text-xs",sm:"h-8 rounded-sd-md px-3 text-sm",lg:"h-10 rounded-sd-md px-8"},onlyIcon:{true:"p-0",false:""},shape:{square:"rounded-sd-md",rounded:"rounded-full"}},compoundVariants:[{size:"xs",onlyIcon:!0,class:"h-7 w-7"},{size:"sm",onlyIcon:!0,class:"h-8 w-8"},{size:"default",onlyIcon:!0,class:"h-9 w-9"},{size:"lg",onlyIcon:!0,class:"h-10 w-10"}],defaultVariants:{variant:"default",size:"default",onlyIcon:!1,shape:"square"}}),f=a.forwardRef((function(e,n){var t=e.className,a=e.variant,u=e.size,f=e.onlyIcon,p=e.shape,m=e.asChild,x=void 0!==m&&m,g=e.isLoading,h=e.children,y=(0,r.Z)(e,["className","variant","size","onlyIcon","shape","asChild","isLoading","children"]),b=x?l.g7:"button";return(0,s.jsx)(b,(0,i.Z)((0,o.Z)({className:(0,d.yI)(v({variant:a,size:u,onlyIcon:f,shape:p,className:t})),ref:n},y),{disabled:g||y.disabled,children:g?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"opacity-0",children:h}),(0,s.jsx)("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:(0,s.jsx)(c,{})})]}):h}))}));f.displayName="Button"},17396:function(e,n,t){"use strict";t.d(n,{AG:function(){return i},dE:function(){return r}});var o=t(36492),i=function(){return{mutate:null,mutateAsync:null,isLoading:!1,isFetching:!1}},r=function(){return(0,o.a)([],(function(){return null}))}},47207:function(e,n,t){"use strict";t.d(n,{Y:function(){return o}});var o=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var o=!0,i=!1,r=void 0;try{for(var s,a=n[Symbol.iterator]();!(o=(s=a.next()).done);o=!0){var l=s.value;if(l)return l}}catch(u){i=!0,r=u}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return null}},87231:function(e,n,t){"use strict";t.d(n,{o:function(){return r}});var o=t(33802),i=t(23025),r={advertisementAdExposure:function(e){var n={key:"advertisement_ad_exposure",data:e};o.V[i.X.GIO](n),o.V[i.X.GA4](n),o.V[i.X.CONSOLE](n),o.V[i.X.SELF_DB](n),o.V[i.X.DW](n)},advertisementAdClick:function(e){var n={key:"advertisement_ad_click",data:e};o.V[i.X.GIO](n),o.V[i.X.GA4](n),o.V[i.X.CONSOLE](n),o.V[i.X.SELF_DB](n),o.V[i.X.DW](n)},advertisementAdFrequencyLimitExposure:function(e){var n={key:"advertisement_ad_frequency_limit_exposure",data:e};o.V[i.X.GIO](n),o.V[i.X.GA4](n),o.V[i.X.CONSOLE](n),o.V[i.X.SELF_DB](n),o.V[i.X.DW](n)},advertisementAdFrequencyLimitClick:function(e){var n={key:"advertisement_ad_frequency_limit_click",data:e};o.V[i.X.GIO](n),o.V[i.X.GA4](n),o.V[i.X.CONSOLE](n),o.V[i.X.SELF_DB](n),o.V[i.X.DW](n)},advertisementAcAfterAdClick:function(e){var n={key:"advertisement_ac_after_ad_click",data:e};o.V[i.X.GIO](n),o.V[i.X.GA4](n),o.V[i.X.CONSOLE](n),o.V[i.X.SELF_DB](n),o.V[i.X.DW](n)},advertisementAcAfterAdExposure:function(e){var n={key:"advertisement_ac_after_ad_exposure",data:e};o.V[i.X.GIO](n),o.V[i.X.GA4](n),o.V[i.X.CONSOLE](n),o.V[i.X.SELF_DB](n),o.V[i.X.DW](n)},advertisementAdsenseCloseBtnClick:function(){var e={key:"advertisement_adsense_close_btn_click",data:{}};o.V[i.X.GIO](e),o.V[i.X.GA4](e),o.V[i.X.CONSOLE](e),o.V[i.X.SELF_DB](e),o.V[i.X.DW](e)},advertisementAdsensePopupExposure:function(){var e={key:"advertisement_adsense_popup_exposure",data:{}};o.V[i.X.GIO](e),o.V[i.X.GA4](e),o.V[i.X.CONSOLE](e),o.V[i.X.SELF_DB](e),o.V[i.X.DW](e)},advertisementAdsensePopupCloseClick:function(){var e={key:"advertisement_adsense_popup_close_click",data:{}};o.V[i.X.GIO](e),o.V[i.X.GA4](e),o.V[i.X.CONSOLE](e),o.V[i.X.SELF_DB](e),o.V[i.X.DW](e)},advertisementAdsensePopupSubscribeClick:function(){var e={key:"advertisement_adsense_popup_subscribe_click",data:{}};o.V[i.X.GIO](e),o.V[i.X.GA4](e),o.V[i.X.CONSOLE](e),o.V[i.X.SELF_DB](e),o.V[i.X.DW](e)}}},50834:function(e,n,t){var o=t(8458),i="string"===typeof o?[[e.id,o,""]]:o;(n=e.exports=o.locals||{})._getContent=function(){return i},n._getCss=function(){return""+o}}}]);